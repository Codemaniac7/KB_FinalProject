import{u as C,a as T,c as I,d as N,r as D,m as L,j as y,o as c,e as i,f as e,F as f,p as b,w as v,q as B,v as M,s as Y,t as l,k as h,l as u,x as m,h as p,y as K}from"./index-D4IXLfWC.js";import{b as R}from"./boardApi-C1ld8Qqg.js";import{h as S}from"./moment-C5S46NFB.js";import"./index-DZqFvaX6.js";const U=e("h1",{class:"mb-3"},[e("i",{class:"fa-solid fa-paste"}),p(" 게시글 목록")],-1),A={class:"mt-4"},F=e("div",{class:"form-label"},"type",-1),P=["id","value"],$=["for"],j={class:"row mt-2"},E={class:"col-3"},H=e("label",{class:"form-label"},"검색 종류",-1),W=K('<option value="">선택하세요.</option><option value="all">전체</option><option value="title">제목</option><option value="content">내용</option><option value="writer">글쓴이</option>',5),z=[W],G={class:"col-8"},J=e("label",{class:"form-label"},"검색어",-1),O={class:"col-1"},Q=e("label",{class:"form-label"},[p("   "),e("span",{class:"text-body-secondary"})],-1),X={class:"mt-3 text-end"},Z={class:"table table-striped"},ee=e("thead",null,[e("tr",null,[e("th",{style:{width:"60px"}},"No"),e("th",{style:{width:"100px"}},"Type"),e("th",null,"제목"),e("th",{style:{width:"150px"}},"작성자"),e("th",{style:{width:"120px"}},"작성일"),e("th",{style:{width:"80px"}},"조회수")])],-1),te={class:"my-5 d-flex"},oe={class:"flex-grow-1 text-center"},se=e("i",{class:"fa-solid fa-backward-fast"},null,-1),ae=e("i",{class:"fa-solid fa-caret-left"},null,-1),le=e("i",{class:"fa-solid fa-caret-right"},null,-1),ne=e("i",{class:"fa-solid fa-forward-fast"},null,-1),re=e("i",{class:"fa-solid fa-pen-to-square"},null,-1),he={__name:"BoardListPage",setup(ue){const s=C(),g=T(),n=I({}),w=N(()=>n.value.boardList),o=D({page:parseInt(s.query.page)||1,amount:parseInt(s.query.amount)||12,searchType:"",searchValue:""}),x=async r=>{console.log("CLICK,,,,"),g.push({query:{page:r,amount:o.amount,searchType:o.searchType,searchValue:o.searchValue}})};L(s,async r=>{console.log("WATCH",s.query.page),o.page=parseInt(s.query.page),o.searchType=s.query.searchType,o.searchValue=s.query.searchValue,o.amount=parseInt(s.query.amount),await d(o)});const d=async r=>{try{n.value=await R.getList(r),console.log(n.value)}catch{}};d(o);const k=r=>{alert(r.target.checked)};return(r,a)=>{const _=y("router-link"),V=y("vue-awesome-paginate");return c(),i("div",null,[U,e("div",A,[F,(c(!0),i(f,null,b(n.value.boardCategory,t=>(c(),i("div",{key:t.type,class:"form-check form-check-inline"},[e("input",{onChange:k,checked:"",class:"form-check-input",type:"checkbox",id:t.type,value:t.type},null,40,P),e("label",{class:"form-check-label",for:t.type},l(t.name),9,$)]))),128))]),e("div",j,[e("div",E,[H,v(e("select",{"onUpdate:modelValue":a[0]||(a[0]=t=>o.searchType=t),class:"form-select",required:""},z,512),[[B,o.searchType]])]),e("div",G,[J,v(e("input",{"onUpdate:modelValue":a[1]||(a[1]=t=>o.searchValue=t),onKeyup:a[2]||(a[2]=Y(t=>d(o),["enter"])),type:"text",class:"form-control",placeholder:"내용을 입력하세요."},null,544),[[M,o.searchValue]])]),e("div",O,[Q,e("button",{class:"form-control btn btn-primary",onClick:a[3]||(a[3]=t=>d(o))},"검색")])]),e("div",X,"(총 "+l(n.value.totalCount)+"건)",1),e("table",Z,[ee,e("tbody",null,[(c(!0),i(f,null,b(w.value,t=>(c(),i("tr",{key:t.bno},[e("td",null,l(t.bno),1),e("td",null,l(n.value.boardCategory.filter(q=>{if(q.type==t.type)return t.type})[0].name),1),e("td",null,[h(_,{to:{name:"board/detail",params:{no:t.bno},query:m(s).query}},{default:u(()=>[p(l(t.title),1)]),_:2},1032,["to"])]),e("td",null,l(t.memberName)+"("+l(t.memberId)+")",1),e("td",null,l(m(S)(t.regDate).format("YYYY-MM-DD")),1),e("td",null,l(t.readCount),1)]))),128))])]),e("div",te,[e("div",oe,[h(V,{"total-items":n.value.totalCount,"items-per-page":o.amount,"max-pages-shown":5,"show-ending-buttons":!0,modelValue:o.page,"onUpdate:modelValue":a[4]||(a[4]=t=>o.page=t),onClick:x},{"first-page-button":u(()=>[se]),"prev-button":u(()=>[ae]),"next-button":u(()=>[le]),"last-page-button":u(()=>[ne]),_:1},8,["total-items","items-per-page","modelValue"])]),e("div",null,[h(_,{to:{name:"board/create",query:m(s).query},class:"btn btn-primary"},{default:u(()=>[re,p(" 글 작성")]),_:1},8,["to"])])])])}}};export{he as default};
