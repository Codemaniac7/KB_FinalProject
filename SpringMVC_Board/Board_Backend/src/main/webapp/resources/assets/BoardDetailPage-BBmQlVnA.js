import{_ as D,b as Y,u as I,a as B,c as N,o as l,e as c,f as t,t as o,h as r,s as _,F as h,q as y,g as v,y as S,z as L}from"./index-BBZxee2U.js";import{b as k}from"./boardApi-ymQSdjwj.js";import{h as w}from"./moment-C5S46NFB.js";import"./index-BL4nKI-C.js";const M=async d=>{try{const a=document.createElement("a");a.href=d,document.body.appendChild(a),a.click(),document.body.removeChild(a)}catch(a){console.error(a)}},s=d=>(S("data-v-b2cded38"),d=d(),L(),d),R={class:"my-3 d-flex justify-content-between"},A=s(()=>t("i",{class:"fa-solid fa-user"},null,-1)),E=s(()=>t("i",{class:"fa-regular fa-clock"},null,-1)),F=s(()=>t("hr",null,null,-1)),V={class:"text-end"},H=["onClick"],P=s(()=>t("i",{class:"fa-solid fa-paperclip"},null,-1)),T={class:"content"},$={class:"my-5"},j=s(()=>t("i",{class:"fa-solid fa-list"},null,-1)),z=s(()=>t("i",{class:"fa-regular fa-pen-to-square"},null,-1)),U=s(()=>t("i",{class:"fa-solid fa-trash-can"},null,-1)),G={class:"row mt-2"},J=s(()=>t("div",{class:"col-11"},[t("label",{class:"form-label"},"댓글"),t("input",{type:"text",class:"form-control",placeholder:"내용을 입력하세요."})],-1)),K={class:"col-1"},O=s(()=>t("label",{class:"form-label"},[r("   "),t("span",{class:"text-body-secondary"})],-1)),Q={class:"table table-striped mt-4"},W=s(()=>t("thead",null,[t("tr",null,[t("th",{style:{width:"60px"}},"No"),t("th",null,"댓글 내용"),t("th",{style:{width:"150px"}},"작성자"),t("th",{style:{width:"120px"}},"작성일"),t("th",{style:{width:"80px"}})])],-1)),X={key:0},Z=s(()=>t("button",{class:"btn btn-close"},null,-1)),tt=[Z],et={__name:"BoardDetailPage",setup(d){const a=Y(),u=I(),m=B(),p=u.params.no,n=N({}),g=()=>{m.push({name:"board/list",query:u.query})},x=()=>{m.push({name:"board/update",params:{no:p},query:u.query})},q=async b=>{const i="/api/board/download/"+b;console.log(i),await M(i)},C=async()=>{confirm("삭제할까요?")&&(await k.delete(p),m.push({name:"board/list",query:u.query}))},f=async()=>{n.value=await k.get(p),console.log("DETAIL",n.value)};return f(),(b,i)=>(l(),c(h,null,[t("h1",null,o(n.value.title),1),t("div",R,[t("div",null,[A,r(" "+o(n.value.writer),1)]),t("div",null,[E,r(" "+o(_(w)(n.value.updateDate).format("YYYY-MM-DD HH:mm")),1)])]),F,t("div",V,[(l(!0),c(h,null,y(n.value.attaches,e=>(l(),c("div",{key:e.no,class:"attach"},[t("span",{onClick:st=>q(e.no)},[P,r(" "+o(e.filename),1)],8,H)]))),128))]),t("div",T,o(n.value.content),1),t("div",$,[t("button",{class:"btn btn-primary me-2",onClick:g},[j,r(" 목록")]),_(a).id==n.value.writer?(l(),c(h,{key:0},[t("button",{class:"btn btn-primary me-2",onClick:x},[z,r(" 수정")]),t("button",{class:"btn btn-danger",onClick:C},[U,r(" 삭제")])],64)):v("",!0)]),t("div",G,[J,t("div",K,[O,t("button",{class:"form-control btn btn-primary",onClick:i[0]||(i[0]=e=>f(b.pageRequest))},"작성")])]),t("table",Q,[W,t("tbody",null,[(l(!0),c(h,null,y(n.value.replyList,e=>(l(),c("tr",{key:e.rno},[t("td",null,o(e.rno),1),t("td",null,o(e.content),1),t("td",null,o(e.memberName)+"("+o(e.memberId)+")",1),t("td",null,o(_(w)(e).format("YYYY-MM-DD")),1),t("td",null,[e.memberId==_(a).id?(l(),c("span",X,tt)):v("",!0)])]))),128))])])],64))}},ct=D(et,[["__scopeId","data-v-b2cded38"]]);export{ct as default};
