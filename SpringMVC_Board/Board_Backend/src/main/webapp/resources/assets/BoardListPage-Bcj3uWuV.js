import{u as V,a as q,c as C,d as T,r as k,m as I,j as y,o as c,e as p,f as e,w as f,p as N,v as D,q as L,t as l,F as B,s as M,k as m,l as r,x as h,h as d,y as Y}from"./index-Os274lw6.js";import{b as K}from"./boardApi-bvAQwa9b.js";import{h as R}from"./moment-C5S46NFB.js";import"./index-BQsetxoz.js";const S=e("h1",{class:"mb-3"},[e("i",{class:"fa-solid fa-paste"}),d(" 게시글 목록")],-1),U={class:"row mt-2"},A={class:"col-3"},F=e("label",{class:"form-label"},"검색 종류",-1),P=Y('<option value="">선택하세요.</option><option value="all">전체</option><option value="title">제목</option><option value="content">내용</option><option value="writer">글쓴이</option>',5),$=[P],j={class:"col-8"},E=e("label",{class:"form-label"},"검색어",-1),H={class:"col-1"},W=e("label",{class:"form-label"},[d("   "),e("span",{class:"text-body-secondary"})],-1),z={class:"mt-3 text-end"},G={class:"table table-striped"},J=e("thead",null,[e("tr",null,[e("th",{style:{width:"60px"}},"No"),e("th",{style:{width:"100px"}},"Type"),e("th",null,"제목"),e("th",{style:{width:"150px"}},"작성자"),e("th",{style:{width:"120px"}},"작성일"),e("th",{style:{width:"80px"}},"조회수")])],-1),O={class:"my-5 d-flex"},Q={class:"flex-grow-1 text-center"},X=e("i",{class:"fa-solid fa-backward-fast"},null,-1),Z=e("i",{class:"fa-solid fa-caret-left"},null,-1),ee=e("i",{class:"fa-solid fa-caret-right"},null,-1),te=e("i",{class:"fa-solid fa-forward-fast"},null,-1),se=e("i",{class:"fa-solid fa-pen-to-square"},null,-1),ue={__name:"BoardListPage",setup(ae){const a=V(),b=q(),n=C({}),v=T(()=>n.value.boardList),t=k({page:parseInt(a.query.page)||1,amount:parseInt(a.query.amount)||10,searchType:"",searchValue:""}),g=async u=>{console.log("CLICK,,,,"),b.push({query:{page:u,amount:t.amount,searchType:t.searchType,searchValue:t.searchValue}})};I(a,async u=>{console.log("WATCH",a.query.page),t.page=parseInt(a.query.page),t.searchType=a.query.searchType,t.searchValue=a.query.searchValue,t.amount=parseInt(a.query.amount),await i(t)});const i=async u=>{try{n.value=await K.getList(u),console.log(n.value)}catch{}};return i(t),(u,o)=>{const _=y("router-link"),w=y("vue-awesome-paginate");return c(),p("div",null,[S,e("div",U,[e("div",A,[F,f(e("select",{"onUpdate:modelValue":o[0]||(o[0]=s=>t.searchType=s),class:"form-select",required:""},$,512),[[N,t.searchType]])]),e("div",j,[E,f(e("input",{"onUpdate:modelValue":o[1]||(o[1]=s=>t.searchValue=s),onKeyup:o[2]||(o[2]=L(s=>i(t),["enter"])),type:"text",class:"form-control",placeholder:"내용을 입력하세요."},null,544),[[D,t.searchValue]])]),e("div",H,[W,e("button",{class:"form-control btn btn-primary",onClick:o[3]||(o[3]=s=>i(t))},"검색")])]),e("div",z,"(총 "+l(n.value.totalCount)+"건)",1),e("table",G,[J,e("tbody",null,[(c(!0),p(B,null,M(v.value,s=>(c(),p("tr",{key:s.bno},[e("td",null,l(s.bno),1),e("td",null,l(n.value.boardCategory.filter(x=>{if(x.type==s.type)return s.type})[0].name),1),e("td",null,[m(_,{to:{name:"board/detail",params:{no:s.bno},query:h(a).query}},{default:r(()=>[d(l(s.title),1)]),_:2},1032,["to"])]),e("td",null,l(s.memberName)+"("+l(s.memberId)+")",1),e("td",null,l(h(R)(s.regDate).format("YYYY-MM-DD")),1),e("td",null,l(s.readCount),1)]))),128))])]),e("div",O,[e("div",Q,[m(w,{"total-items":n.value.totalCount,"items-per-page":t.amount,"max-pages-shown":5,"show-ending-buttons":!0,modelValue:t.page,"onUpdate:modelValue":o[4]||(o[4]=s=>t.page=s),onClick:g},{"first-page-button":r(()=>[X]),"prev-button":r(()=>[Z]),"next-button":r(()=>[ee]),"last-page-button":r(()=>[te]),_:1},8,["total-items","items-per-page","modelValue"])]),e("div",null,[m(_,{to:{name:"board/create",query:h(a).query},class:"btn btn-primary"},{default:r(()=>[se,d(" 글 작성")]),_:1},8,["to"])])])])}}};export{ue as default};
