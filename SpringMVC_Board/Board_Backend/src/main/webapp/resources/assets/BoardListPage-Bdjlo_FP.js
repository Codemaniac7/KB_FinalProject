import{u as w,a as C,c as V,d as q,r as T,m as I,j as f,o as u,e as d,f as e,w as _,p as N,v as D,t as l,F as L,q as B,k as p,l as n,s as h,x as v,h as m}from"./index-BBZxee2U.js";import{b as M}from"./boardApi-ymQSdjwj.js";import{h as Y}from"./moment-C5S46NFB.js";import"./index-BL4nKI-C.js";const R=v('<h1 class="mb-3"><i class="fa-solid fa-paste"></i> 게시글 목록</h1><div class="mt-4"><div class="form-label">type</div><div class="form-check form-check-inline"><input class="form-check-input" type="checkbox" id="inlineCheckbox1" value="option1"><label class="form-check-label" for="inlineCheckbox1">1</label></div><div class="form-check form-check-inline"><input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option2"><label class="form-check-label" for="inlineCheckbox2">2</label></div><div class="form-check form-check-inline"><input class="form-check-input" type="checkbox" id="inlineCheckbox3" value="option3" disabled><label class="form-check-label" for="inlineCheckbox3">3 (disabled)</label></div></div>',2),S={class:"row mt-2"},U={class:"col-3"},A=e("label",{class:"form-label"},"검색 종류",-1),F=v('<option value="">선택하세요.</option><option value="all">전체</option><option value="title">제목</option><option value="content">내용</option><option value="writer">글쓴이</option>',5),P=[F],j={class:"col-8"},E=e("label",{class:"form-label"},"검색어",-1),H={class:"col-1"},K=e("label",{class:"form-label"},[m("   "),e("span",{class:"text-body-secondary"})],-1),W={class:"mt-3 text-end"},$={class:"table table-striped"},z=e("thead",null,[e("tr",null,[e("th",{style:{width:"60px"}},"No"),e("th",null,"제목"),e("th",{style:{width:"150px"}},"작성자"),e("th",{style:{width:"120px"}},"작성일"),e("th",{style:{width:"80px"}},"조회수")])],-1),G={class:"my-5 d-flex"},J={class:"flex-grow-1 text-center"},O=e("i",{class:"fa-solid fa-backward-fast"},null,-1),Q=e("i",{class:"fa-solid fa-caret-left"},null,-1),X=e("i",{class:"fa-solid fa-caret-right"},null,-1),Z=e("i",{class:"fa-solid fa-forward-fast"},null,-1),ee=e("i",{class:"fa-solid fa-pen-to-square"},null,-1),ne={__name:"BoardListPage",setup(te){const a=w(),y=C(),c=V({}),k=q(()=>c.value.boardList),t=T({page:parseInt(a.query.page)||1,amount:parseInt(a.query.amount)||10,searchType:"",searchValue:""}),g=async i=>{console.log("CLICK,,,,"),y.push({query:{page:i,amount:t.amount,searchType:t.searchType,searchValue:t.searchValue}})};I(a,async i=>{console.log("WATCH",a.query.page),t.page=parseInt(a.query.page),t.searchType=a.query.searchType,t.searchValue=a.query.searchValue,t.amount=parseInt(a.query.amount),await r(t)});const r=async i=>{try{c.value=await M.getList(i),console.log(c.value)}catch{}};return r(t),(i,s)=>{const b=f("router-link"),x=f("vue-awesome-paginate");return u(),d("div",null,[R,e("div",S,[e("div",U,[A,_(e("select",{"onUpdate:modelValue":s[0]||(s[0]=o=>t.searchType=o),class:"form-select",required:""},P,512),[[N,t.searchType]])]),e("div",j,[E,_(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>t.searchValue=o),type:"text",class:"form-control",placeholder:"내용을 입력하세요."},null,512),[[D,t.searchValue]])]),e("div",H,[K,e("button",{class:"form-control btn btn-primary",onClick:s[2]||(s[2]=o=>r(t))},"검색")])]),e("div",W,"(총 "+l(c.value.totalCount)+"건)",1),e("table",$,[z,e("tbody",null,[(u(!0),d(L,null,B(k.value,o=>(u(),d("tr",{key:o.bno},[e("td",null,l(o.bno),1),e("td",null,[p(b,{to:{name:"board/detail",params:{no:o.bno},query:h(a).query}},{default:n(()=>[m(l(o.title),1)]),_:2},1032,["to"])]),e("td",null,l(o.memberName)+"("+l(o.memberId)+")",1),e("td",null,l(h(Y)(o.regDate).format("YYYY-MM-DD")),1),e("td",null,l(o.readCount),1)]))),128))])]),e("div",G,[e("div",J,[p(x,{"total-items":c.value.totalCount,"items-per-page":t.amount,"max-pages-shown":5,"show-ending-buttons":!0,modelValue:t.page,"onUpdate:modelValue":s[3]||(s[3]=o=>t.page=o),onClick:g},{"first-page-button":n(()=>[O]),"prev-button":n(()=>[Q]),"next-button":n(()=>[X]),"last-page-button":n(()=>[Z]),_:1},8,["total-items","items-per-page","modelValue"])]),e("div",null,[p(b,{to:{name:"board/create",query:h(a).query},class:"btn btn-primary"},{default:n(()=>[ee,m(" 글 작성")]),_:1},8,["to"])])])])}}};export{ne as default};
