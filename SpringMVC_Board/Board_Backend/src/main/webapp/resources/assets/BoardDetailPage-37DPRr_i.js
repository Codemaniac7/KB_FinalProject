import{_ as w,b as q,u as C,a as x,c as D,o as r,e as i,f as e,t as c,h as n,q as f,F as m,p as B,g as I,s as S,x as Y}from"./index-DYn770XT.js";import{b}from"./boardApi-CE0Y89Gm.js";import{h as A}from"./moment-C5S46NFB.js";import"./index-DjN9BD_0.js";const E=async o=>{try{const a=document.createElement("a");a.href=o,document.body.appendChild(a),a.click(),document.body.removeChild(a)}catch(a){console.error(a)}},s=o=>(S("data-v-ab728183"),o=o(),Y(),o),F={class:"my-3 d-flex justify-content-between"},L=s(()=>e("i",{class:"fa-solid fa-user"},null,-1)),N=s(()=>e("i",{class:"fa-regular fa-clock"},null,-1)),R=s(()=>e("hr",null,null,-1)),V={class:"text-end"},H=["onClick"],M=s(()=>e("i",{class:"fa-solid fa-paperclip"},null,-1)),P={class:"content"},T={class:"my-5"},j=s(()=>e("i",{class:"fa-solid fa-list"},null,-1)),U=s(()=>e("i",{class:"fa-regular fa-pen-to-square"},null,-1)),$=s(()=>e("i",{class:"fa-solid fa-trash-can"},null,-1)),z={__name:"BoardDetailPage",setup(o){const a=q(),l=C(),d=x(),u=l.params.no,t=D({}),y=()=>{d.push({name:"board/list",query:l.query})},v=()=>{d.push({name:"board/update",params:{no:u},query:l.query})},k=async h=>{const p="/api/board/download/"+h;console.log(p),await E(p)},g=async()=>{confirm("삭제할까요?")&&(await b.delete(u),d.push({name:"board/list",query:l.query}))};return(async()=>{t.value=await b.get(u),console.log("DETAIL",t.value)})(),(h,p)=>(r(),i(m,null,[e("h1",null,c(t.value.title),1),e("div",F,[e("div",null,[L,n(" "+c(t.value.writer),1)]),e("div",null,[N,n(" "+c(f(A)(t.value.updateDate).format("YYYY-MM-DD HH:mm")),1)])]),R,e("div",V,[(r(!0),i(m,null,B(t.value.attaches,_=>(r(),i("div",{key:_.no,class:"attach"},[e("span",{onClick:J=>k(_.no)},[M,n(" "+c(_.filename),1)],8,H)]))),128))]),e("div",P,c(t.value.content),1),e("div",T,[e("button",{class:"btn btn-primary me-2",onClick:y},[j,n(" 목록")]),f(a).username==t.value.writer?(r(),i(m,{key:0},[e("button",{class:"btn btn-primary me-2",onClick:v},[U,n(" 수정")]),e("button",{class:"btn btn-danger",onClick:g},[$,n(" 삭제")])],64)):I("",!0)])],64))}},X=w(z,[["__scopeId","data-v-ab728183"]]);export{X as default};
